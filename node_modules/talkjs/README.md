# TalkJS JavaScript SDK

This package lets you include TalkJS JS SDK snippet as an npm package. Please note this package is for the client-side SDK and is intended for browser environments.

**What is TalkJS?**

TalkJS lets you add user-to-user chat to your marketplace, on-demand app, or social platform. For more information, visit [talkjs.com](https://talkjs.com/?ref=jssdk-npm-readme).

![Screenshots of TalkJS running on various devices](https://talkjs.com/images/devices_home.jpg)

Don't hesitate to [let us know](https://talkjs.com/?chat) if you have any questions about TalkJS.

## Getting Started

Use one of the following ways to import the library:

ES6 / TypeScript:
```js
import * as Talk from "talkjs";
```

CommonJS:
```js
const Talk = require("talkjs");
```

Then, follow the guide on our [documentation](https://talkjs.com/docs/?ref=jssdk-npm-readme) to start using TalkJS in your projects. 

## Goals
This NPM package has two goals:
- Make it easier to inject the TalkJS snippet for developers who use front-end build chains such as Webpack or Parcel
- Provide TypeScript type definitions for the entire SDK, for an easier development experience in editors such as Atom and VS Code. Some editors (eg VS Code) will even use these for autocomplete if your application is not written in TypeScript but just in plain old JavaScript:

![Visual Studio Code autocomplete screenshot](https://talkjs.com/images/autocomplete.png)

Note that even if you use this package, the core TalkJS library is loaded on-the-fly from our CDN. It simply injects a small code snippet which does that asynchronously, without delaying the rest of your application. 

### Usage from Node.js
This package is currently _frontend only_. You cannot run this in Node.js. If you use a framework that runs the same code on Node.js and in the browser (eg Next.js), then you need to take care to [only load the TalkJS package on the frontend](https://github.com/zeit/next.js/issues/2144#issuecomment-305791582).

## TalkJS is fully forward compatible
We promise to never break API compatibility. We may at times deprecate methods or fields, but we will never remove them. If something that used to work stops working, then that's a bug. Please [report it](https://talkjs.com/?chat) and we'll fix it asap.

### Note for TypeScript users
We currently do _not_ promise forward compatibility for the TypeScript definitions contained in this package, because we're still iterating a bit on class and interface names as the SDK matures. 

Note that none of this will ever affect you unless you manually update the NPM package using a command like `npm install --save talkjs@latest` at a later time. And even then, nothing will break at runtime because we promise full forward compatibility of the JavaScript API.

In other words, we promise that code like the following will always keep working, even if you update this package:

```ts
import * as Talk from "talkjs";
const session = new Talk.Session(..);
const inbox = session.createInbox(..);
```

But code like the following might cause compile errors when you update to a later version, because we reserve the right to rename the `Talk.Inbox` type:

```ts
import * as Talk from "talkjs";
function createInbox(): Talk.Inbox {
    const session = new Talk.Session(..);
    return session.createInbox(..);
}
```

Similarly, we may at any time remove deprecated methods, fields, classes and interfaces from the TypeScript definitions (but not ever from the JavaScript SDK).

We plan to release a v1.0.0 version of this package when this stabilizes.

## Changelog


### 0.6.1
- Add support for [Inbox feed filters](https://talkjs.com/docs/api/interfaces/inboxoptions.html#feedfilter).

### 0.6.0
- Converted some classes to interfaces (eg `Inbox` is now an interface).
- Exported all interfaces that the SDK exposes. For example, `Session.getOrCreateConversation` returns a `ConversationBuilder` interface, which you can now use in TypeScript code like `function updateConversation(conversation: Talk.ConversationBuilder) {..}`.

### 0.5.0
- Exported core interfaces in the TypeScript type definitions: Chatbox, Conversation, ConversationBuilder, Inbox, Popup.
- Began tracking a changelog :-)

## Examples

You can check out usage examples for this package and TalkJS in general, check out our [examples repository](https://github.com/talkjs/talkjs-examples/).

